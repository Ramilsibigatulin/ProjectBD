<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Library Management System</title>
  </head>
  <body>
    <h1>Publishers</h1>
    <ul>
      {% for publisher in publishers %}
      <li>{{ publisher.name }} - {{ publisher.city }}</li>
      {% endfor %}
    </ul>
    <h2>Add New Publisher</h2>
    <form method="post" action="{% url 'add_publisher' %}">
      {% csrf_token %}
      <label for="publisher_name">Name:</label>
      <input type="text" id="publisher_name" name="publisher_name" required />
      <label for="publisher_city">City:</label>
      <input type="text" id="publisher_city" name="publisher_city" required />
      <button type="submit">Add Publisher</button>
    </form>

    <h1>Books</h1>
    <ul>
      {% for book in books %}
      <li>
        {{ book.title }} by {{ book.first_author }} ({{ book.publication_year
        }})
      </li>
      {% endfor %}
    </ul>
    <h2>Add New Book</h2>
    <form method="post" action="{% url 'add_book' %}">
      {% csrf_token %} <label for="book_title">Title:</label>
      <input type="text" id="book_title" name="book_title" required />
      <label for="book_author">Author:</label>
      <input type="text" id="book_author" name="book_author" required />
      <label for="publication_year">Publication Year:</label>
      <input
        type="number"
        id="publication_year"
        name="publication_year"
        required
      />
      <label for="price">Price:</label>
      <input type="text" id="price" name="price" required />
      <label for="quantity">Quantity:</label>
      <input type="number" id="quantity" name="quantity" required />
      <!-- Изменение: добавлено поле для количества книг -->
      <label for="publisher_code">Publisher Code:</label>
      <input type="number" id="publisher_code" name="publisher_code" required />
      <!-- Изменение: добавлено поле для кода издателя -->
      <button type="submit">Add Book</button>
    </form>
    <h1>Readers</h1>
    <ul>
      {% for reader in readers %}
      <li>
        {{ reader.full_name }} - {{ reader.address }} - {{ reader.phone }}
      </li>
      {% endfor %}
    </ul>
    <h2>Add New Reader</h2>
    <form method="post" action="{% url 'add_reader' %}">
      {% csrf_token %}
      <label for="reader_full_name">Full Name:</label>
      <input
        type="text"
        id="reader_full_name"
        name="reader_full_name"
        required
      />
      <label for="reader_address">Address:</label>
      <input type="text" id="reader_address" name="reader_address" required />
      <label for="reader_phone">Phone:</label>
      <input type="text" id="reader_phone" name="reader_phone" required />
      <button type="submit">Add Reader</button>
    </form>

    <h1>Loans</h1>
    <ul>
      {% for loan in loans %}
      <li>
        Reader: {{ loan.reader.full_name }} - Book: {{ loan.book.title }} - Loan
        Date: {{ loan.loan_date }}
      </li>
      {% endfor %}
    </ul>
    <h2>Search New Loan</h2>
    <form method="post" action="{% url 'add_loan' %}">
      {% csrf_token %}
      <label for="reader_id">Reader ID:</label>
      <input type="number" id="reader_id" name="reader_id" required />
      <label for="book_id">Book ID:</label>
      <input type="number" id="book_id" name="book_id" required />
      <label for="loan_date">Loan Date:</label>
      <input type="date" id="loan_date" name="loan_date" required />
      <button type="submit">Add Loan</button>
    </form>
  </body>
</html>
